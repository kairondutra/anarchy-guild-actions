
document.addEventListener("DOMContentLoaded", () => {

    const levelXP = [
        0, 98, 199, 388, 790, 1498, 2565, 4176, 6397, 9230, 12956, 17596, 23083, 29830, 37795,
        46824, 57489, 69694, 83153, 96660, 115993, 134770, 156016, 179392, 204375, 232266, 262591,
        294668, 330110, 368290, 408349, 452248, 499189, 548118, 601380, 657988, 716675, 780206,
        847387, 916720, 991426, 1070086, 1150953, 1237740, 1328785, 1422074, 1521848, 1626184,
        1732783, 1846450, 1964983, 2085780, 2214246, 2347882, 2483765, 2627936, 2777581, 2929438,
        3090220, 3256780, 3425499, 3603798, 3788179, 3974648, 4171370, 4374478, 4579585, 4795636,
        5018377, 5243010, 5479296, 5722576, 5967623, 6225050, 6489775, 6756124, 7035598, 7322674,
        7611213, 7913640, 8223973, 8535590, 8861876, 9196372, 9531955, 9883006, 10242571, 10603008,
        10979730, 11365270, 11751449, 12154748, 12567169, 12979978, 13410760, 13850968, 14291295,
        14750466, 15219367, 15688100, 16176566, 16675066, 17173093, 17691760, 18220765, 18748974,
        19298748, 19859164, 20418443, 21000230, 21592963, 22184200, 22798906, 23424862, 24048945,
        24697476, 25357561, 26015378, 26698640, 27393760, 28086199, 28805098, 29536159, 30264108,
        31019550, 31787458, 32551805, 33344696, 34150357, 34951990, 35783236, 36627556, 37467363,
        38337870, 39221755, 40100624, 41011298, 41935654, 42854473, 43806220, 44719353, 45731610,
        46725336, 47733352, 48734735, 49771346, 50822551, 51866548, 52946950, 54042250, 55129749,
        56254848, 57395149, 58527038, 59697740, 60883948, 62061115, 63278326, 64511347, 65734680,
        66999306, 68280046, 69550433, 70863380, 72192745, 73511074, 74873248, 76252144, 77619303,
        79031610, 80460943, 81877820, 83341166, 84821842, 86289325, 87804616, 89337541, 90856518,
        92424660, 94010740, 95582099, 97203998, 98844139, 100468768, 102145330, 103840438,
        105519225, 107251356, 109002337, 110736170, 112524776, 114332536, 116122303, 117968290,
        119833735, 121680324, 123584598, 125508634, 127412933, 129376400, 131359933, 133322830,
        135346396, 137390332, 139412715, 141497286, 143602531, 145685288, 147831770, 149999230,
        152143249, 154352548, 156583129, 158789298, 161062320, 163356928, 165626135, 167963786,
        170323327, 172656460, 175059646, 177485026, 179882973, 182352600, 184844725, 187308374,
        189845348, 192405124, 194935363, 197540590, 200168923, 202766640, 205441026, 208138822,
        210804905, 213549356, 216317521, 219052858, 221868280, 224707720, 227531199, 230400498,
        233312119, 236188628, 239148710, 242133418, 245081845, 248115616, 251174317, 254195550,
        257303916, 260437516, 263532443, 266716310, 269925715, 273095224, 276355498, 279641614,
        282886593, 286224180, 289587913, 292909250, 296325056, 299767312, 303165895, 306660826,
        310182511, 313659228, 317234190, 320836210, 324391949, 328047848, 331731109, 335366758,
        339104500, 342869908, 346586355, 350406846, 354255307, 358053440, 361957586, 365890006,
        369770713, 373759420, 377776705, 381740874, 385815048, 389918104, 393966623, 398127170,
        402316903, 406450660, 410698486, 414975802, 419195685, 423531696, 427897501, 432204398,
        436629500, 441084700, 445479499, 449994598, 454540099, 459023688, 463629690, 468266398,
        472839665, 477537476, 482266297, 486930130, 491720656, 496542496, 501297783, 506181930,
        511097695, 515945324, 520923998, 525934594, 530875453, 535949560, 541055893, 546090870,
        551261316, 556464292, 561594275, 566861966, 572162491, 577388368, 582754210, 588153190,
        593475849, 598940748, 604439089, 609859418, 615424280, 621022888, 626541775, 632207506,
        637907287, 643525620, 649293126, 655094986, 660813653, 666683840, 672588685, 678408574,
        684382348, 690391084, 696313083, 702391350, 708504883, 714529880, 720713546, 726932782,
        733061665, 739351636, 745677481, 751911138, 758308320, 764741680, 771080999, 777586298,
        784128079, 790573948, 797188270, 803839378, 810392685, 817116936, 823878277, 830539910,
        837374996, 844247476, 851018323, 857965150, 864949675, 871830624, 878890098, 885987574,
        892979513, 900152540, 907363873, 914467690, 921755176, 929081272, 936297855, 943700706,
        951142471, 958472708, 965991830, 973550170, 980994949, 988631248, 996307069, 1003867278,
        1011621660, 1019415868, 1027092395, 1034965766, 1042879267, 1050673000, 1058666266,
        1066699966, 1074611793, 1082725860, 1090880665, 1098911474, 1107147248, 1115424064,
        1123574743, 1131933130, 1140332863, 1148604300, 1157086206, 1165609762, 1174002845,
        1182609176, 1191257461, 1199773078, 1208504740, 1217278660, 1225917699, 1234775598,
        1243676059, 1252439408, 1261424450, 1270452358, 1279340905, 1288453996, 1297610257,
        1306624890, 1315866936, 1325152456, 1334294063, 1343665970, 1353081655, 1362351124,
        1371853798, 1381400554, 1390798773, 1400433120, 1410111853, 1419639710, 1429406636,
        1439218252, 1448876635, 1458777046, 1468722451, 1478512248, 1488547050, 1498627150,
        1508549249, 1518719348, 1528935049, 1538990338, 1549296640, 1559648848, 1569838215,
        1580281626, 1590771247, 1601095580, 1611677006, 1622304946, 1632765133, 1643485480,
        1654252645, 1664849574, 1675709748, 1686617044, 1697351603, 1708352510, 1719400843,
        1730273920, 1741416466, 1752606742, 1763619225, 1774904908, 1786237441, 1797390218,
        1808818760, 1820295638, 1831589499, 1843162498, 1854784039, 1866220068, 1877938230,
        1889705338, 1901284325, 1913148656, 1925062237, 1936785070, 1948796476, 1958857436,
        1972899003, 1984884390, 1997093635, 2019106824, 2021415098, 2033773534, 2045933233,
        2058391300, 2070899833, 2083206930, 2095815696, 2108475232, 2120930615, 2133690986,
        2146502431, 2159106988, 2172019870, 2184984130, 2197738749, 2210805048, 2223923029,
        2236828598, 2250049220, 2263321828, 2276379235, 2290755086, 2303183227, 2316393360,
        2330925346, 2343509926, 2356873673, 2370562700, 2384304625, 2397822874, 2411669921,
        2425570019, 2439515928, 2453329610, 2468346318, 2483392945, 2497800916, 2512800217,
        2527620450, 2542620100, 2557639449, 2570868348, 2586488034, 2602163170, 2617607396,
        2633107401, 2648290098, 2663199600, 2678216605, 2692775485, 270797401, 272879013,
        275460702, 2775585605, 2795637520, 2815026374, 2833627548, 285263004, 2870850923,
        2888224070, 2905656803, 2922798760, 2939861048, 2957349786, 2975277585, 2993007396,
        3010797401, 3028290098, 3046199600, 3064169600, 308199833, 31089930, 3115815696,
        312475232, 3130690615, 314690986, 3159502431, 3172106988, 3185019870, 3197984130,
        320738749, 322805048, 323923029, 325828598, 327049220, 328321828, 329379235, 330755086,
        332183227, 333393360, 334925346, 336509926, 337873673, 339562700, 341304625, 342822874,
        344669848, 346570024, 348243663, 349249490, 350308823, 351138740, 352304326, 353523722,
        354510805, 355837056, 357217421, 358362558, 359850380, 361392620, 362696699, 364346998,
        366052019, 367515928, 368329610, 369198318, 370822945, 372800916, 374834217, 376620450,
        377763616, 378962416, 380911143, 382220410, 383585615, 384697724, 385173998, 386706514,
        387982893, 389627080, 390327813, 391769350, 392582356, 394452212, 395059795, 396042526,
        397082411, 398856928, 40010290, 401221110, 402163449, 403488348, 404871009, 405982058,
        407871110, 408488348, 40910290, 410479400, 411034808, 412315455, 413986146, 415715207,
        416166340, 417011286, 418914906, 419537413, 420557520, 421636605, 422431374, 423627548,
        424883004, 425850923, 426224070, 427656803, 428798760, 429349786, 430960702, 431277585,
        432007396, 433797401, 434290098, 435199600, 436169600
    ];

    // Função para calcular o nível com base na XP total
    function getLevelFromXP(totalXP) {
        for (let i = 0; i < levelXP.length - 1; i++) {
            if (totalXP >= levelXP[i] && totalXP < levelXP[i + 1]) {
                return i + 1; 
            }
        }
        if (totalXP >= levelXP[levelXP.length - 1]) {
            return 600; 
        }
        return 1; 
    }

    // Função principal para calcular o nível
    window.calculateLevel = () => {
        const currentXP = parseInt(document.getElementById("currentXP").value) || 0;
        const xpGain = parseInt(document.getElementById("xpGain").value) || 0;
        const totalXP = currentXP + xpGain;

        if (currentXP < 0 || xpGain < 0) {
            document.getElementById("result").innerText = "Por favor, insira valores válidos (não negativos).";
            return;
        }

        const newLevel = getLevelFromXP(totalXP);
        document.getElementById("result").innerText = `O jogador irá chegar ao nível ${newLevel}.`;
    };
});